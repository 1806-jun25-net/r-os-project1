
@{
    @model PizzaPlace.WebApp.Models.ViewModel
    @using PizzaPLace.DataAccess
}


@{
    ViewData["Title"] = "IndexVM";
}



<head>
    <style>
        table {
            border-collapse: collapse;
            width: 50%;
        }

        th, td {
            text-align: center;
            padding: 8px;
        }
        th {
            border-bottom: double;
            border-bottom-color: cadetblue;
            font-size: large;
            font-family: 'Baskerville Old Face';
            background-color: lightsteelblue;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2
        }


    </style>
</head>

<h2>Search and Sort</h2>
<p>
    @*<a asp-action="Create">Create New</a>*@
<p>
    @using (Html.BeginForm())
    {
    <p>
        Find by name: @Html.TextBox("SearchString")
        <input type="submit" value="Search" />
    </p>
}
    <b>Orders</b>
    <br />

    <class>

        @Html.ActionLink("Total Price", "Search", new { sortOrder = ViewBag.PriceSortParm })
        @Html.ActionLink("Date", "Search", new { sortOrder = ViewBag.DateSortParm })

        <br />
        <br />

        @foreach (Orders order in Model.Orders)
        {
            foreach (Users user in Model.Users)
            {
                <div>
                <br />

                <table>

                    <tr>
                        <th>Order No.</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th> Location</th>
                        <th>Total Price</th>
                        <th> Order Time</th>
                      
                    </tr>
                    <tr>
                        <td>@order.OrderId</td>
                        <td>@user.FirstName</td>
                        <td>@user.LastName</td>
                        <td>@user.LocationId</td>
                        <td>@order.OrderTotal</td>
                        <td>@order.OrderTime</td>

                    </tr>
                </table>
                <br />
               </div>

                @*@foreach (var orderP in Model.OrderPizzas)
                {
                    foreach (Pizzas pizza in Model.Pizzas.Where(x => x.PizzaId == orderP.PizzaId))
                    { 
                <div>
                    <br />

                    <p><b>Pizzas</b></p>
                    <table>
                        <tr>
                            <th>Size</th>
                            <th>Pizza</th>
                        </tr>
                        <tr>
                            <td>@pizza.Size</td>
                            <td>@pizza.Name</td>

                        </tr>
                    </table>
                </div>



                    }
                    <br />
                    <br />

                }*@


            }




        }





